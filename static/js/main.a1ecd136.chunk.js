(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{13:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(3),o=n.n(c),l=n(1),u=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}},i=function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(n){console.log(n)}return null},m=n(4),f=function(e,t){switch(t.type){case"addContact":return[].concat(Object(m.a)(e),[t.payload.contact]);case"removeContact":return e.filter((function(e){return e.id!==t.payload.contactId}));default:return e}},s=Object(a.createContext)(),b=function(e){var t=e.children,n=Object(a.useReducer)(f,i("yourContacts")||[]),c=Object(l.a)(n,2),o=c[0],u=c[1];return r.a.createElement(s.Provider,{value:[o,u]},t)},d=n(10);function p(){var e=Object(a.useContext)(s),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(l.a)(o,2),i=u[0],m=u[1],f=Object(a.useState)(""),b=Object(l.a)(f,2),p=b[0],E=b[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i&&p&&(!function(e){return!n.find((function(t){return t.name===e}))}(i)?alert("".concat(i," is already in contacts.")):(!function(){var e={id:d(),name:i,number:p};c({type:"addContact",payload:{contact:e}})}(),m(""),E("")))}},r.a.createElement("label",null,"Name",r.a.createElement("input",{type:"text",value:i,onChange:function(e){m(e.target.value)}})),r.a.createElement("label",null,"Number",r.a.createElement("input",{type:"number",value:p,onChange:function(e){E(e.target.value)}})),r.a.createElement("button",{type:"submit"},"Add Contact"))}function E(e){var t=e.filter,n=Object(a.useContext)(s),c=Object(l.a)(n,2),o=c[0],i=c[1];Object(a.useEffect)((function(){u("yourContacts",o)}),[o]);var m=Object(a.useMemo)((function(){return o.filter((function(e){return e.name.toLowerCase().includes(t.toLocaleLowerCase())}))}),[o,t]);return r.a.createElement(r.a.Fragment,null,0!==m.length&&r.a.createElement("ul",null,m.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("span",null,e.name," "),r.a.createElement("span",null,e.number),r.a.createElement("button",{onClick:function(){return t=e.id,void i({type:"removeContact",payload:{contactId:t}});var t}},"DELETE"))}))))}function v(e){var t=e.filter,n=e.changeFilter;return r.a.createElement("input",{type:"text",value:t,onChange:n})}o.a.render(r.a.createElement((function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1];return r.a.createElement(b,null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(p,null),r.a.createElement("h2",null,"Contacts"),r.a.createElement(v,{filter:n,changeFilter:function(e){c(e.target.value)}}),r.a.createElement(E,{filter:n}))}),null),document.getElementById("root"))},5:function(e,t,n){e.exports=n(13)}},[[5,1,2]]]);
//# sourceMappingURL=main.a1ecd136.chunk.js.map